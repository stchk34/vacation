uuid: 97a81dd5-cbde-4f39-aea1-6a3e1cfacbe1
langcode: en
status: false
dependencies: {  }
id: send_email_for_team_lead_when_his_user_create_request
label: 'Send email for team lead, when his user create request'
events:
  -
    event_name: 'rules_entity_insert:node--vacation_request'
description: ''
tags: {  }
config_version: '3'
expression:
  id: rules_rule
  uuid: 543ebc86-8fb0-4dab-a3e8-3974a20962ab
  weight: 0
  conditions:
    id: rules_and
    uuid: bb3cd533-5d94-41a5-a48d-07fa98e5cadd
    weight: 0
    conditions:
      -
        id: rules_condition
        uuid: 45fc5f97-47c7-4728-8a57-d1172a6f4718
        weight: 0
        condition_id: rules_entity_is_of_bundle
        negate: false
        context_values:
          type: node
          bundle: vacation_request
        context_mapping:
          entity: node
        context_processors:
          type:
            rules_tokens: {  }
          bundle:
            rules_tokens: {  }
        provides_mapping: {  }
      -
        id: rules_condition
        uuid: 671317a6-e6cb-4281-aee8-9abd3ff60d64
        weight: 0
        condition_id: rules_entity_is_of_bundle
        negate: false
        context_values:
          type: user
          bundle: user
        context_mapping:
          entity: node.uid.entity
        context_processors:
          type:
            rules_tokens: {  }
          bundle:
            rules_tokens: {  }
        provides_mapping: {  }
      -
        id: rules_condition
        uuid: 1bbe6d94-2e5d-4e92-8220-3064b56da404
        weight: 0
        condition_id: rules_entity_is_of_bundle
        negate: false
        context_values:
          type: user
          bundle: user
        context_mapping:
          entity: node.uid.entity.field_my_team_lead.entity
        context_processors:
          type:
            rules_tokens: {  }
          bundle:
            rules_tokens: {  }
        provides_mapping: {  }
  actions:
    id: rules_action_set
    uuid: c0569944-afcc-42f6-85f5-55d3c8bdeb7a
    weight: 0
    actions:
      -
        id: rules_action
        uuid: 6141abef-eec8-4dab-ab06-06a508a7e767
        weight: -50
        action_id: rules_data_set
        context_values: {  }
        context_mapping:
          data: node.field_employee_sender
          value: node.uid.entity
        context_processors: {  }
        provides_mapping: {  }
      -
        id: rules_action
        uuid: 41be0c75-8c6e-410a-80ec-57f815d23db6
        weight: -49
        action_id: rules_data_convert
        context_values:
          target_type: integer
          rounding_behavior: ''
        context_mapping:
          value: node.field_date_.duration
        context_processors:
          target_type:
            rules_tokens: {  }
          rounding_behavior:
            rules_tokens: {  }
        provides_mapping:
          conversion_result: conversion_result_duration
      -
        id: rules_action
        uuid: acb0dc2b-2133-42b2-bb12-b4f6bfbbe55b
        weight: -48
        action_id: rules_data_calculate_value
        context_values:
          input_1: '{{conversion_result_duration}}'
          operator: /
          input_2: '1440'
        context_mapping: {  }
        context_processors:
          input_1:
            rules_tokens: {  }
          operator:
            rules_tokens: {  }
          input_2:
            rules_tokens: {  }
        provides_mapping:
          result: result_duration_in_days
      -
        id: rules_action
        uuid: d79d6ebb-0b49-450c-9a66-a36874681da8
        weight: -47
        action_id: rules_data_convert
        context_values:
          target_type: integer
          rounding_behavior: ''
        context_mapping:
          value: result_duration_in_days
        context_processors:
          target_type:
            rules_tokens: {  }
          rounding_behavior:
            rules_tokens: {  }
        provides_mapping: {  }
      -
        id: rules_action
        uuid: e1b04764-00a2-40f6-802b-e1c8b3639c70
        weight: -46
        action_id: rules_data_set
        context_values: {  }
        context_mapping:
          data: node.field_duration_of_the_not_paid_v
          value: conversion_result
        context_processors: {  }
        provides_mapping: {  }
      -
        id: rules_action
        uuid: 0bdd4c31-4ea6-4b9d-893d-d8cda5a1e396
        weight: -45
        action_id: rules_entity_save
        context_values:
          immediate: '1'
        context_mapping:
          entity: node
        context_processors:
          immediate:
            rules_tokens: {  }
        provides_mapping: {  }
      -
        id: rules_action
        uuid: e0d79c47-d11f-46ab-95ca-8dc0924b6470
        weight: -44
        action_id: rules_send_email
        context_values:
          to:
            - '{{node.uid.entity.field_my_team_lead.entity.mail.value}}'
          subject: 'Created a new vacation request'
          message: 'Hello! A {{node.uid.entity.name.value}} has created a new vacation request. View yours "List of a vacation request"'
          reply: ''
          language: ''
        context_mapping: {  }
        context_processors:
          to:
            rules_tokens: {  }
          subject:
            rules_tokens: {  }
          message:
            rules_tokens: {  }
          reply:
            rules_tokens: {  }
          language:
            rules_tokens: {  }
        provides_mapping: {  }
