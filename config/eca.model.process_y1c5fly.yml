uuid: a8e6a3d2-3bbd-48a3-b7a2-d684b4993d31
langcode: en
status: true
dependencies:
  config:
    - eca.eca.process_y1c5fly
id: process_y1c5fly
label: 'Config balance'
tags:
  - untagged
documentation: ''
filename: ''
modeldata: |
  <?xml version="1.0" encoding="UTF-8"?>
  <bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:qa="http://some-company/schema/bpmn/qa" id="sample-diagram" targetNamespace="http://bpmn.io/schema/bpmn" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd">
    <bpmn2:process id="Process_y1C5fLY" name="Config balance" isExecutable="true">
      <bpmn2:startEvent id="Event_1u0zm6n" name="create Transaction" camunda:modelerTemplate="org.drupal.event.content_entity:insert">
        <bpmn2:extensionElements>
          <camunda:properties>
            <camunda:property name="pluginid" value="content_entity:insert" />
          </camunda:properties>
          <camunda:field name="type">
            <camunda:string>node transaction</camunda:string>
          </camunda:field>
        </bpmn2:extensionElements>
        <bpmn2:outgoing>Flow_1nfrdel</bpmn2:outgoing>
      </bpmn2:startEvent>
      <bpmn2:task id="Activity_03a6ntd" name="switch user" camunda:modelerTemplate="org.drupal.action.eca_switch_account">
        <bpmn2:extensionElements>
          <camunda:properties>
            <camunda:property name="pluginid" value="eca_switch_account" />
          </camunda:properties>
          <camunda:field name="user_id">
            <camunda:string>1</camunda:string>
          </camunda:field>
        </bpmn2:extensionElements>
        <bpmn2:incoming>Flow_1nfrdel</bpmn2:incoming>
        <bpmn2:outgoing>Flow_12ryu9d</bpmn2:outgoing>
      </bpmn2:task>
      <bpmn2:sequenceFlow id="Flow_1nfrdel" sourceRef="Event_1u0zm6n" targetRef="Activity_03a6ntd" />
      <bpmn2:exclusiveGateway id="Gateway_0oklceq">
        <bpmn2:incoming>Flow_0ajhxa7</bpmn2:incoming>
        <bpmn2:outgoing>Flow_0fvi0kl</bpmn2:outgoing>
        <bpmn2:outgoing>Flow_17jrzw0</bpmn2:outgoing>
        <bpmn2:outgoing>Flow_1auxihj</bpmn2:outgoing>
      </bpmn2:exclusiveGateway>
      <bpmn2:sequenceFlow id="Flow_0fvi0kl" name="transaction type = spent" camunda:modelerTemplate="org.drupal.condition.eca_scalar" sourceRef="Gateway_0oklceq" targetRef="Activity_1mxmweh">
        <bpmn2:extensionElements>
          <camunda:properties>
            <camunda:property name="pluginid" value="eca_scalar" />
          </camunda:properties>
          <camunda:field name="left">
            <camunda:string>[new_transaction:field_type_transaction:value]</camunda:string>
          </camunda:field>
          <camunda:field name="operator">
            <camunda:string>equal</camunda:string>
          </camunda:field>
          <camunda:field name="right">
            <camunda:string>Spent</camunda:string>
          </camunda:field>
          <camunda:field name="type">
            <camunda:string>value</camunda:string>
          </camunda:field>
          <camunda:field name="case">
            <camunda:string>no</camunda:string>
          </camunda:field>
          <camunda:field name="negate">
            <camunda:string>no</camunda:string>
          </camunda:field>
        </bpmn2:extensionElements>
      </bpmn2:sequenceFlow>
      <bpmn2:task id="Activity_1e6k35j" name="owner earned transaction" camunda:modelerTemplate="org.drupal.action.eca_token_load_entity_ref">
        <bpmn2:extensionElements>
          <camunda:properties>
            <camunda:property name="pluginid" value="eca_token_load_entity_ref" />
          </camunda:properties>
          <camunda:field name="token_name">
            <camunda:string>owner_earned_transaction</camunda:string>
          </camunda:field>
          <camunda:field name="field_name_entity_ref">
            <camunda:string>field_owner</camunda:string>
          </camunda:field>
          <camunda:field name="from">
            <camunda:string>current</camunda:string>
          </camunda:field>
          <camunda:field name="entity_type">
            <camunda:string>_none</camunda:string>
          </camunda:field>
          <camunda:field name="entity_id">
            <camunda:string></camunda:string>
          </camunda:field>
          <camunda:field name="revision_id">
            <camunda:string></camunda:string>
          </camunda:field>
          <camunda:field name="langcode">
            <camunda:string>_interface</camunda:string>
          </camunda:field>
          <camunda:field name="latest_revision">
            <camunda:string>no</camunda:string>
          </camunda:field>
          <camunda:field name="unchanged">
            <camunda:string>no</camunda:string>
          </camunda:field>
          <camunda:field name="properties">
            <camunda:string></camunda:string>
          </camunda:field>
          <camunda:field name="object">
            <camunda:string></camunda:string>
          </camunda:field>
        </bpmn2:extensionElements>
        <bpmn2:incoming>Flow_17jrzw0</bpmn2:incoming>
      </bpmn2:task>
      <bpmn2:sequenceFlow id="Flow_17jrzw0" name="transaction type = earned" camunda:modelerTemplate="org.drupal.condition.eca_scalar" sourceRef="Gateway_0oklceq" targetRef="Activity_1e6k35j">
        <bpmn2:extensionElements>
          <camunda:properties>
            <camunda:property name="pluginid" value="eca_scalar" />
          </camunda:properties>
          <camunda:field name="left">
            <camunda:string>[new_transaction:field_type_transaction:value]</camunda:string>
          </camunda:field>
          <camunda:field name="operator">
            <camunda:string>equal</camunda:string>
          </camunda:field>
          <camunda:field name="right">
            <camunda:string>Earned</camunda:string>
          </camunda:field>
          <camunda:field name="type">
            <camunda:string>value</camunda:string>
          </camunda:field>
          <camunda:field name="case">
            <camunda:string>no</camunda:string>
          </camunda:field>
          <camunda:field name="negate">
            <camunda:string>no</camunda:string>
          </camunda:field>
        </bpmn2:extensionElements>
      </bpmn2:sequenceFlow>
      <bpmn2:task id="Activity_1brxwjf" name="onwer burning day transaction" camunda:modelerTemplate="org.drupal.action.eca_token_load_entity_ref">
        <bpmn2:extensionElements>
          <camunda:properties>
            <camunda:property name="pluginid" value="eca_token_load_entity_ref" />
          </camunda:properties>
          <camunda:field name="token_name">
            <camunda:string>owner_burning_day_transaction</camunda:string>
          </camunda:field>
          <camunda:field name="field_name_entity_ref">
            <camunda:string>field_owner</camunda:string>
          </camunda:field>
          <camunda:field name="from">
            <camunda:string>current</camunda:string>
          </camunda:field>
          <camunda:field name="entity_type">
            <camunda:string>_none</camunda:string>
          </camunda:field>
          <camunda:field name="entity_id">
            <camunda:string></camunda:string>
          </camunda:field>
          <camunda:field name="revision_id">
            <camunda:string></camunda:string>
          </camunda:field>
          <camunda:field name="langcode">
            <camunda:string>_interface</camunda:string>
          </camunda:field>
          <camunda:field name="latest_revision">
            <camunda:string>no</camunda:string>
          </camunda:field>
          <camunda:field name="unchanged">
            <camunda:string>no</camunda:string>
          </camunda:field>
          <camunda:field name="properties">
            <camunda:string></camunda:string>
          </camunda:field>
          <camunda:field name="object">
            <camunda:string></camunda:string>
          </camunda:field>
        </bpmn2:extensionElements>
        <bpmn2:incoming>Flow_1auxihj</bpmn2:incoming>
      </bpmn2:task>
      <bpmn2:sequenceFlow id="Flow_1auxihj" name="transaction type = burning" camunda:modelerTemplate="org.drupal.condition.eca_scalar" sourceRef="Gateway_0oklceq" targetRef="Activity_1brxwjf">
        <bpmn2:extensionElements>
          <camunda:properties>
            <camunda:property name="pluginid" value="eca_scalar" />
          </camunda:properties>
          <camunda:field name="left">
            <camunda:string>[new_transaction:field_type_transaction:value]</camunda:string>
          </camunda:field>
          <camunda:field name="operator">
            <camunda:string>equal</camunda:string>
          </camunda:field>
          <camunda:field name="right">
            <camunda:string>Spent when burning day</camunda:string>
          </camunda:field>
          <camunda:field name="type">
            <camunda:string>value</camunda:string>
          </camunda:field>
          <camunda:field name="case">
            <camunda:string>no</camunda:string>
          </camunda:field>
          <camunda:field name="negate">
            <camunda:string>no</camunda:string>
          </camunda:field>
        </bpmn2:extensionElements>
      </bpmn2:sequenceFlow>
      <bpmn2:task id="Activity_0ht22ta" name="load transaction" camunda:modelerTemplate="org.drupal.action.eca_token_load_entity">
        <bpmn2:extensionElements>
          <camunda:properties>
            <camunda:property name="pluginid" value="eca_token_load_entity" />
          </camunda:properties>
          <camunda:field name="token_name">
            <camunda:string>new_transaction</camunda:string>
          </camunda:field>
          <camunda:field name="from">
            <camunda:string>current</camunda:string>
          </camunda:field>
          <camunda:field name="entity_type">
            <camunda:string>_none</camunda:string>
          </camunda:field>
          <camunda:field name="entity_id">
            <camunda:string></camunda:string>
          </camunda:field>
          <camunda:field name="revision_id">
            <camunda:string></camunda:string>
          </camunda:field>
          <camunda:field name="langcode">
            <camunda:string>_interface</camunda:string>
          </camunda:field>
          <camunda:field name="latest_revision">
            <camunda:string>no</camunda:string>
          </camunda:field>
          <camunda:field name="unchanged">
            <camunda:string>no</camunda:string>
          </camunda:field>
          <camunda:field name="properties">
            <camunda:string></camunda:string>
          </camunda:field>
          <camunda:field name="object">
            <camunda:string></camunda:string>
          </camunda:field>
        </bpmn2:extensionElements>
        <bpmn2:incoming>Flow_12ryu9d</bpmn2:incoming>
        <bpmn2:outgoing>Flow_0ajhxa7</bpmn2:outgoing>
      </bpmn2:task>
      <bpmn2:sequenceFlow id="Flow_12ryu9d" sourceRef="Activity_03a6ntd" targetRef="Activity_0ht22ta" />
      <bpmn2:sequenceFlow id="Flow_0ajhxa7" sourceRef="Activity_0ht22ta" targetRef="Gateway_0oklceq" />
      <bpmn2:task id="Activity_1mxmweh" name="owner spent transaction" camunda:modelerTemplate="org.drupal.action.eca_token_load_entity_ref">
        <bpmn2:extensionElements>
          <camunda:properties>
            <camunda:property name="pluginid" value="eca_token_load_entity_ref" />
          </camunda:properties>
          <camunda:field name="token_name">
            <camunda:string>owner_transaction_spent</camunda:string>
          </camunda:field>
          <camunda:field name="field_name_entity_ref">
            <camunda:string>field_owner</camunda:string>
          </camunda:field>
          <camunda:field name="from">
            <camunda:string>current</camunda:string>
          </camunda:field>
          <camunda:field name="entity_type">
            <camunda:string>_none</camunda:string>
          </camunda:field>
          <camunda:field name="entity_id">
            <camunda:string></camunda:string>
          </camunda:field>
          <camunda:field name="revision_id">
            <camunda:string></camunda:string>
          </camunda:field>
          <camunda:field name="langcode">
            <camunda:string>_interface</camunda:string>
          </camunda:field>
          <camunda:field name="latest_revision">
            <camunda:string>no</camunda:string>
          </camunda:field>
          <camunda:field name="unchanged">
            <camunda:string>no</camunda:string>
          </camunda:field>
          <camunda:field name="properties">
            <camunda:string></camunda:string>
          </camunda:field>
          <camunda:field name="object">
            <camunda:string></camunda:string>
          </camunda:field>
        </bpmn2:extensionElements>
        <bpmn2:incoming>Flow_0fvi0kl</bpmn2:incoming>
      </bpmn2:task>
    </bpmn2:process>
    <bpmndi:BPMNDiagram id="sid-2997e86d-480a-4b03-bdce-5687030b8a8f">
      <bpmndi:BPMNPlane id="sid-a289d5d3-dda7-4bc8-95e7-b655e6301099" bpmnElement="Process_y1C5fLY">
        <bpmndi:BPMNShape id="Event_1u0zm6n_di" bpmnElement="Event_1u0zm6n">
          <dc:Bounds x="12" y="552" width="36" height="36" />
          <bpmndi:BPMNLabel>
            <dc:Bounds x="3" y="595" width="58" height="27" />
          </bpmndi:BPMNLabel>
        </bpmndi:BPMNShape>
        <bpmndi:BPMNShape id="Activity_03a6ntd_di" bpmnElement="Activity_03a6ntd">
          <dc:Bounds x="130" y="530" width="100" height="80" />
          <bpmndi:BPMNLabel />
        </bpmndi:BPMNShape>
        <bpmndi:BPMNShape id="Gateway_0oklceq_di" bpmnElement="Gateway_0oklceq" isMarkerVisible="true">
          <dc:Bounds x="465" y="545" width="50" height="50" />
        </bpmndi:BPMNShape>
        <bpmndi:BPMNShape id="Activity_1e6k35j_di" bpmnElement="Activity_1e6k35j">
          <dc:Bounds x="660" y="530" width="100" height="80" />
          <bpmndi:BPMNLabel />
        </bpmndi:BPMNShape>
        <bpmndi:BPMNShape id="Activity_0ht22ta_di" bpmnElement="Activity_0ht22ta">
          <dc:Bounds x="320" y="530" width="100" height="80" />
          <bpmndi:BPMNLabel />
        </bpmndi:BPMNShape>
        <bpmndi:BPMNShape id="Activity_1kcuvd4_di" bpmnElement="Activity_1mxmweh">
          <dc:Bounds x="660" y="390" width="100" height="80" />
          <bpmndi:BPMNLabel />
        </bpmndi:BPMNShape>
        <bpmndi:BPMNShape id="Activity_1brxwjf_di" bpmnElement="Activity_1brxwjf">
          <dc:Bounds x="660" y="670" width="100" height="80" />
          <bpmndi:BPMNLabel />
        </bpmndi:BPMNShape>
        <bpmndi:BPMNEdge id="Flow_1nfrdel_di" bpmnElement="Flow_1nfrdel">
          <di:waypoint x="48" y="570" />
          <di:waypoint x="130" y="570" />
        </bpmndi:BPMNEdge>
        <bpmndi:BPMNEdge id="Flow_0fvi0kl_di" bpmnElement="Flow_0fvi0kl">
          <di:waypoint x="490" y="545" />
          <di:waypoint x="490" y="430" />
          <di:waypoint x="660" y="430" />
          <bpmndi:BPMNLabel>
            <dc:Bounds x="536" y="396" width="88" height="27" />
          </bpmndi:BPMNLabel>
        </bpmndi:BPMNEdge>
        <bpmndi:BPMNEdge id="Flow_17jrzw0_di" bpmnElement="Flow_17jrzw0">
          <di:waypoint x="515" y="570" />
          <di:waypoint x="660" y="570" />
          <bpmndi:BPMNLabel>
            <dc:Bounds x="536" y="536" width="88" height="27" />
          </bpmndi:BPMNLabel>
        </bpmndi:BPMNEdge>
        <bpmndi:BPMNEdge id="Flow_1auxihj_di" bpmnElement="Flow_1auxihj">
          <di:waypoint x="490" y="595" />
          <di:waypoint x="490" y="710" />
          <di:waypoint x="660" y="710" />
          <bpmndi:BPMNLabel>
            <dc:Bounds x="536" y="666" width="88" height="27" />
          </bpmndi:BPMNLabel>
        </bpmndi:BPMNEdge>
        <bpmndi:BPMNEdge id="Flow_12ryu9d_di" bpmnElement="Flow_12ryu9d">
          <di:waypoint x="230" y="570" />
          <di:waypoint x="320" y="570" />
        </bpmndi:BPMNEdge>
        <bpmndi:BPMNEdge id="Flow_0ajhxa7_di" bpmnElement="Flow_0ajhxa7">
          <di:waypoint x="420" y="570" />
          <di:waypoint x="465" y="570" />
        </bpmndi:BPMNEdge>
      </bpmndi:BPMNPlane>
    </bpmndi:BPMNDiagram>
  </bpmn2:definitions>
