uuid: 0073a52f-84fd-4576-a9ff-8e798dd0bc05
langcode: en
status: true
dependencies: {  }
id: create_node_certificate_
label: 'Create node "Certificate"'
events:
  -
    event_name: 'rules_entity_insert:user'
description: ''
tags: {  }
config_version: '3'
expression:
  id: rules_rule
  uuid: cde77ab8-8100-4f9f-8802-e6619919dd11
  weight: 0
  conditions:
    id: rules_and
    uuid: fea9387a-8c76-4395-8aa2-857980787a68
    weight: 0
    conditions:
      -
        id: rules_condition
        uuid: 3c3a62e1-891b-4c04-b4e5-e449d616f48e
        weight: 0
        condition_id: rules_entity_is_of_bundle
        negate: false
        context_values:
          type: user
          bundle: user
        context_mapping:
          entity: user
        context_processors:
          type:
            rules_tokens: {  }
          bundle:
            rules_tokens: {  }
        provides_mapping: {  }
  actions:
    id: rules_action_set
    uuid: eb29e28f-bc49-4d27-a2f9-0b823b96098d
    weight: 0
    actions:
      -
        id: rules_action
        uuid: 9c86b031-2a05-486c-96cc-c7e42cdc6b21
        weight: -50
        action_id: 'rules_entity_create:node'
        context_values:
          type: certificate
          title: 'Certificate to {{ user }}'
        context_mapping: {  }
        context_processors:
          type:
            rules_tokens: {  }
          title:
            rules_tokens: {  }
        provides_mapping: {  }
      -
        id: rules_action
        uuid: 86eb0b51-d663-4c89-ab38-8831ae620e40
        weight: -49
        action_id: rules_data_set
        context_values: {  }
        context_mapping:
          data: node_created.field_employee
          value: user
        context_processors: {  }
        provides_mapping: {  }
      -
        id: rules_action
        uuid: 2dee41e8-5802-48c2-bafd-2293848c1014
        weight: -48
        action_id: rules_data_calculate_value
        context_values:
          input_1: '{{user.field_limit_of_weekends_per_year.value}}'
          operator: /
          input_2: '2'
        context_mapping: {  }
        context_processors:
          input_1:
            rules_tokens: {  }
          operator:
            rules_tokens: {  }
          input_2:
            rules_tokens: {  }
        provides_mapping:
          result: number_of_vacation
      -
        id: rules_action
        uuid: 438faa1e-b38d-4686-8379-addbd271410f
        weight: -47
        action_id: rules_data_set
        context_values: {  }
        context_mapping:
          data: node_created.field_limit_
          value: number_of_vacation
        context_processors: {  }
        provides_mapping: {  }
      -
        id: rules_action
        uuid: 033e7c80-34e2-46ff-a301-dbcc4d3301a2
        weight: -46
        action_id: rules_data_set
        context_values:
          value: state_certificate_creation
        context_mapping:
          data: node_created.field_current_state_certificate.value
        context_processors:
          value:
            rules_tokens: {  }
        provides_mapping: {  }
      -
        id: rules_action
        uuid: ba4dd445-3ac4-4ed9-9659-c8b14701c8d2
        weight: -45
        action_id: rules_data_set
        context_values: {  }
        context_mapping:
          data: user.field_my_team_lead
          value: user.field_teams.entity.uid.entity
        context_processors: {  }
        provides_mapping: {  }
      -
        id: rules_action
        uuid: ff5d52f3-92c0-40cf-8314-94dbff790406
        weight: -43
        action_id: rules_entity_save
        context_values:
          immediate: '0'
        context_mapping:
          entity: node_created
        context_processors:
          immediate:
            rules_tokens: {  }
        provides_mapping: {  }
